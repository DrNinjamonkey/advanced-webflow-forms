(function () {function K(a){Object.defineProperty(a,"__esModule",{value:true})}var k=this;var x={};K(x);function z(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var L="object"==typeof k&&k&&k.Object===Object&&k;var M="object"==typeof self&&self&&self.Object===Object&&self,D=L||M||Function("return this")();var B=function(){return D.Date.now()};var q=D.Symbol;var E=Object.prototype,N=E.hasOwnProperty,O=E.toString,j=q?q.toStringTag:void 0;function P($){var r=N.call($,j),t=$[j];try{$[j]=void 0;var n=!0}catch(o){}var a=O.call($);return n&&(r?$[j]=t:delete $[j]),a}var Q=Object.prototype,R=Q.toString;function S(t){return R.call(t)}var T="[object Null]",U="[object Undefined]",F=q?q.toStringTag:void 0;function V($){return null==$?void 0===$?U:T:F&&F in Object($)?P($):S($)}function X(t){return null!=t&&"object"==typeof t}var Y="[object Symbol]";function Z($){return"symbol"==typeof $||X($)&&V($)==Y}var G=NaN,_=/^\s+|\s+$/g,aa=/^[-+]0x[0-9a-f]+$/i,ba=/^0b[01]+$/i,ca=/^0o[0-7]+$/i,da=parseInt;function H($){if("number"==typeof $)return $;if(Z($))return G;if(z($)){var r="function"==typeof $.valueOf?$.valueOf():$;$=z(r)?r+"":r}if("string"!=typeof $)return 0===$?$:+$;$=$.replace(_,"");var e=ba.test($);return e||ca.test($)?da($.slice(2),e?2:8):aa.test($)?G:+$}var ea="Expected a function",fa=Math.max,ga=Math.min;function ha(o,r,t){var i,e,n,$,a,u,v=0,c=!1,f=!1,y=!0;if("function"!=typeof o)throw new TypeError(ea);function W(r){var t=i,n=e;return i=e=void 0,v=r,$=o.apply(n,t)}function m(o){var t=o-u;return void 0===u||t>=r||t<0||f&&o-v>=n}function A(){var o=B();if(m(o))return p(o);a=setTimeout(A,function(o){var t=r-(o-u);return f?ga(t,n-(o-v)):t}(o))}function p(o){return a=void 0,y&&i?W(o):(i=e=void 0,$)}function d(){var o=B(),t=m(o);if(i=arguments,e=this,u=o,t){if(void 0===a)return function(o){return v=o,a=setTimeout(A,r),c?W(o):$}(u);if(f)return clearTimeout(a),a=setTimeout(A,r),W(u)}return void 0===a&&(a=setTimeout(A,r)),$}return r=H(r)||0,z(t)&&(c=!!t.leading,n=(f="maxWait"in t)?fa(H(t.maxWait)||0,r):n,y="trailing"in t?!!t.trailing:y),d.cancel=function(){void 0!==a&&clearTimeout(a),v=0,i=u=e=a=void 0},d.flush=function(){return void 0===a?$:p(B())},d}x.default=ha;var g={};Object.defineProperty(g,"__esModule",{value:!0});var w=(b=void 0,C=g.throwError=b,g.isVisible=C);g.convertToString=w;var b=function(r,e){switch(e){case"wrong-selector":throw new Error("The element with a selector ".concat(r," has not been found. Please, check if you've set it correctly."));case"no-parent":throw new Error("The element with a selector ".concat(r," hasn't got any parent with the [data-logic=\"parent\"] attibute."));case"wrong-action":throw new Error("No action (or wrong action name) has been provided for the ".concat(r," selector."));case"wrong-operator":throw new Error("The operator of the selector ".concat(r," is not valid."));}};g.throwError=b;var C=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)};g.isVisible=C,w=function(r){return"string"==typeof r?r:"number"==typeof r?r.toString():r?"true":"false"},g.convertToString=w;var h={};function ia(e,r){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=ja(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw o}}}}function ja(e,r){if(e){if("string"==typeof e)return I(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?I(e,r):void 0}}function I(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function ka(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function J(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function la(e,r,t){return r&&J(e.prototype,r),t&&J(e,t),e}var ma=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h,"__esModule",{value:!0});var na=ma(x);h=function(){function e(r){ka(this,e),this.logicList=[],this.submitHiddenInputs=!1,this.checkConditionsOnLoad=!0,Object.assign(this,r),this.store=[],this.init()}return la(e,[{key:"init",value:function(){var e=this;this.logicList.forEach(function(r){e.addEvents(r),r.actions.forEach(function(r){e.storeInputData(r.selector)})})}},{key:"addEvents",value:function(e){var r=this;e.conditions.forEach(function(t){var a=document.querySelector(t.selector);if(a){r.checkConditionsOnLoad&&r.checkConditions(e);var n=na.default(r.checkConditions.bind(r),200),o=["email","number","password","search","tel","text","textarea","url"];a.addEventListener("input",function(){o.includes(a.type)?n(e):r.checkConditions(e)})}else b(t.selector,"wrong-selector")})}},{key:"storeInputData",value:function(e){var r=this;if("custom"!==e){var t=document.querySelector(e);if(t)this.getTargets(t).forEach(function(t){var a=t.closest("[data-logic=\"parent\"]");if(a){var n={element:t,visible:C(t),required:t.required,disabled:t.disabled,parent:a};-1===r.store.findIndex(function(e){return e.element===t})&&r.store.push(n)}else b(e,"no-parent")});else b(e,"wrong-selector")}}},{key:"checkConditions",value:function(e){var r,t=this,a=e.conditions,n=e.operator,o=void 0===n?"and":n,i=e.actions,s=!1,u=ia(a);try{for(u.s();!(r=u.n()).done;){var c=r.value,l=document.querySelector(c.selector);if(!l)return void b(c.selector,"wrong-selector");var d=w("checkbox"===l.type?l.checked:l.value),$=w(c.value);switch(c.operator){case"equal":s=d===$;break;case"not-equal":s=d!==$;break;case"contain":s=!!d.includes($);break;case"not-contain":s=!d.includes($);break;case"greater":s=+d>+$;break;case"greater-equal":s=+d>=+$;break;case"less":s=+d<+$;break;case"less-equal":s=+d<=+$;break;case"empty":s=0===d.length;break;case"filled":s=d.length>0;break;default:b(c.selector,"wrong-operator");}if("and"===o&&!s)break;if("or"===o&&s)break}}catch(f){u.e(f)}finally{u.f()}s&&i.forEach(function(e){t.triggerAction(e)})}},{key:"triggerAction",value:function(e){var r=this,t=e.selector,a=e.action,n=e.clear,o=void 0!==n&&n;if("custom"!==t){var i=document.querySelector(t);if(i){var s=this.getTargets(i),u=[];s.forEach(function(e){var n=r.getStoredData(e),i=n.visible,s=n.required,c=n.disabled,l=n.parent;if(("show"!==a||!i)&&("hide"!==a||i)&&("enable"!==a||c)&&("disable"!==a||!c)&&("require"!==a||!s)&&("unrequire"!==a||s)){var d=!u.includes(l),$=!1;switch(d&&($=r.triggerInteraction({parent:l,action:a}),u.push(l)),a){case"show":r.showInput(e,l,$,d,s,c);break;case"hide":r.hideInput(e,l,$,d);break;case"enable":r.enableInput(e,i);break;case"disable":r.disableInput(e,i);break;case"require":r.requireInput(e,i);break;case"unrequire":r.unrequireInput(e,i);break;default:b(t,"wrong-action");}o&&r.clearInput(e)}})}else b(t,"wrong-selector")}else this.triggerInteraction({action:a,custom:!0})}},{key:"showInput",value:function(e,r,t,a,n,o){!t&&a&&(r.style.display="block"),e.required=n,e.disabled=o,this.updateStoredData(e,"visible",!0)}},{key:"hideInput",value:function(e,r,t,a){!t&&a&&(r.style.display="none"),this.submitHiddenInputs||(e.disabled=!0),e.required=!1,this.updateStoredData(e,"visible",!1)}},{key:"enableInput",value:function(e,r){r&&(e.disabled=!1),this.updateStoredData(e,"disabled",!1)}},{key:"disableInput",value:function(e,r){r&&(e.disabled=!0),this.updateStoredData(e,"disabled",!0)}},{key:"requireInput",value:function(e,r){r&&(e.required=!0),this.updateStoredData(e,"required",!0)}},{key:"unrequireInput",value:function(e,r){r&&(e.required=!1),this.updateStoredData(e,"required",!1)}},{key:"getTargets",value:function(e){return!["INPUT","SELECT","TEXTAREA"].includes(e.tagName)?Array.from(e.querySelectorAll("input, select, textarea")):[e]}},{key:"triggerInteraction",value:function(e){var r=e.parent,t=e.action,a=e.custom,n=void 0!==a&&a?document.querySelector("[data-logic=\"".concat(t,"\"]")):r?r.querySelector("[data-logic=\"".concat(t,"\"]")):null;return!!n&&(n.click(),!0)}},{key:"clearInput",value:function(e){"checkbox"===e.type||"radio"===e.type?e.checked=!1:e.value=""}},{key:"updateStoredData",value:function(e,r,t){var a=this.store.findIndex(function(r){return r.element===e});a>-1&&(this.store[a][r]=t)}},{key:"getStoredData",value:function(e){return this.store.find(function(r){return r.element===e})}}]),e}();if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=h}else if(typeof define==="function"&&define.amd){define(function(){return h})}else{this["ConditionalLogic"]=h}})();